@import 'tailwindcss';
@import 'tw-animate-css';
@custom-variant dark (&:is(.dark *));
@import './theme.css';

/* ===== Design Tokens ===== */
:root {
  --radius: 0.5rem; /* Softer corners for modern aesthetic */

  /* Light Theme */
  --background: oklch(0.99 0.02 200); /* Bright cyan-white for vibrancy */
  --foreground: oklch(0.14 0.03 270); /* Deep charcoal for high contrast */

  --card: oklch(0.99 0.01 210)
    linear-gradient(135deg, oklch(0.99 0.02 190) 0%, oklch(0.99 0.02 230) 100%); /* Cyan-to-lavender gradient */
  --card-foreground: oklch(0.14 0.03 270);

  --popover: oklch(0.98 0.02 220); /* Light cyan for popovers */
  --popover-foreground: oklch(0.14 0.03 270);

  --drawer-popover: oklch(0% 0 0 / 0.568);
  --drawer-popover-foreground: oklch(
    0.14 0.03 270
  ); /* Matches --popover-foreground */

  --primary: oklch(0.7 0.18 160); /* Vibrant teal (kyu-2 inspired) */
  --primary-foreground: oklch(0.95 0 0); /* White for text */

  --secondary: oklch(0.78 0.14 280); /* Bright amethyst (kyu-3 inspired) */
  --secondary-foreground: oklch(0.14 0.03 270);

  --muted: oklch(0.96 0.02 230); /* Pale cyan for muted backgrounds */
  --muted-foreground: oklch(0.5 0.05 270); /* Soft gray for muted text */

  --accent: oklch(0.78 0.14 280); /* Vivid coral (kyu-5 inspired) */
  --accent-foreground: oklch(0.14 0.03 270);

  --destructive: oklch(0.65 0.2 20); /* Bright ruby for destructive actions */
  --destructive-foreground: oklch(0.95 0 0);

  --border: oklch(0.92 0.02 240); /* Soft cyan border */
  --input: oklch(0.98 0.01 230); /* Near-white input background */
  --ring: oklch(0.7 0.18 160); /* Teal ring for focus states */

  /* Charts */
  --chart-1: oklch(0.7 0.18 160); /* Teal (kyu-2) */
  --chart-2: oklch(0.75 0.16 40); /* Coral (kyu-5) */
  --chart-3: oklch(0.78 0.14 280); /* Amethyst (kyu-3) */
  --chart-4: oklch(0.72 0.17 90); /* Emerald */
  --chart-5: oklch(0.7 0.2 350); /* Neon magenta */

  /* Sidebar */
  --sidebar: oklch(0.98 0.01 220)
    linear-gradient(180deg, oklch(0.98 0.02 200) 0%, oklch(0.98 0.02 240) 100%);
  --sidebar-foreground: oklch(0.14 0.03 270);
  --sidebar-primary: oklch(0.7 0.18 160);
  --sidebar-primary-foreground: oklch(0.95 0 0);
  --sidebar-accent: oklch(90.933% 0.04509 282.695);
  --sidebar-accent-foreground: oklch(0.14 0.03 270);
  --sidebar-border: oklch(0.92 0.02 240);
  --sidebar-ring: oklch(0.7 0.18 160);

  /* Diamond Luxe Colors */
  --rose-gleam: #d67895; /* Vibrant rose gold */
  --amber-legacy: #f5bc70; /* Bright gold ochre */
  --royal-gold: #ffee80; /* Glowing gold */
  --champagne-mist: #f8e8b0; /* Soft champagne */
  --saffron-dust: #faca88; /* Vibrant saffron */
  --honey-silk: #fadb9a; /* Warm honey */

  /* Diamond Collected/Not Collected */
  --diamond-collected: var(--rose-gleam);
  --diamond-not-collected: var(--primary);

  /* Kyū Colors */
  --kyu-8: #f8f8f8; /* Pearl Mist: Clean white */
  --kyu-7: #ffee99; /* Golden Dawn: Glowing yellow */
  --kyu-6: #ffca4d; /* Sunset Amber: Vibrant amber */
  --kyu-5: #ff9666; /* Ember Coral: Bright coral */
  --kyu-4: #eb709b; /* Rose Ember: Vivid pink */
  --kyu-3: #a873d6; /* Amethyst Crest: Bright purple */
  --kyu-2: #5e90e6; /* Sapphire Sky: Lively blue */
  --kyu-1: #2d4e7a; /* Obsidian Depth: Rich navy */
}

/* ===== Dark Theme ===== */
.dark {
  --background: oklch(0.22 0.06 260)
    linear-gradient(135deg, oklch(0.22 0.06 260) 0%, oklch(0.25 0.06 280) 100%); /* Lighter indigo with kyu-3 gradient */
  --foreground: oklch(0.94 0.02 240); /* Bright white for readability */

  --card: oklch(0.28 0.06 260)
    linear-gradient(135deg, oklch(0.28 0.06 260) 0%, oklch(0.32 0.06 40) 100%); /* Indigo-to-coral (kyu-5) gradient */
  --card-foreground: oklch(0.94 0.02 240);
  --card-background: oklch(11.469% 0.05127 282.295);

  --popover: oklch(0.26 0.06 260); /* Lighter indigo for popovers */
  --popover-foreground: oklch(0.94 0.02 240);

  --drawer-popover: oklch(11.469% 0.05127 282.295 / 0.784);
  --drawer-popover-foreground: oklch(0.94 0.02 240);

  --primary: oklch(0.78 0.18 160); /* Bright teal (kyu-2 inspired) */
  --primary-foreground: oklch(0.14 0.03 270);

  --secondary: oklch(
    37.197% 0.06378 261.505 / 0.449
  ); /* Vivid amethyst (kyu-3 inspired) */
  --secondary-foreground: oklch(0.94 0.02 240);

  --muted: oklch(33.994% 0.05022 261.066 / 0.473); /* Lighter muted indigo */
  --muted-foreground: oklch(0.85 0.03 240);

  --accent: oklch(0.34 0.05 260); /* Lighter muted indigo */
  --accent-foreground: rgba(255, 235, 102, 0.6);

  --destructive: oklch(0.72 0.2 20); /* Vivid ruby */
  --destructive-foreground: oklch(0.95 0 0);

  --border: oklch(0.3 0.05 260); /* Lighter indigo border */
  --input: oklch(0.34 0.05 260); /* Lighter input background */
  --ring: var(--color-royal-gold);

  --chart-1: oklch(0.78 0.18 160); /* Teal (kyu-2) */
  --chart-2: oklch(0.82 0.16 40); /* Coral (kyu-5) */
  --chart-3: oklch(0.85 0.14 280); /* Amethyst (kyu-3) */
  --chart-4: oklch(0.78 0.17 90); /* Emerald */
  --chart-5: oklch(0.75 0.2 350); /* Neon magenta */

  --sidebar: oklch(0.26 0.06 260)
    linear-gradient(180deg, oklch(0.26 0.06 260) 0%, oklch(0.3 0.06 280) 100%); /* Indigo-to-amethyst (kyu-3) */
  --sidebar-foreground: oklch(0.94 0.02 240);
  --sidebar-primary: oklch(0.78 0.18 160);
  --sidebar-primary-foreground: oklch(0.14 0.03 270);
  --sidebar-accent: rgba(102, 209, 255, 0.125);
  --sidebar-accent-foreground: oklch(0.94 0.02 240);
  --sidebar-border: oklch(0.3 0.05 260);
  --sidebar-ring: oklch(37.197% 0.06378 261.505 / 0.449);

  /* Diamond Luxe Colors (brighter for dark theme) */
  --rose-gleam: #e68fa5; /* Vibrant rose gold */
  --amber-legacy: #ffd28a; /* Bright gold ochre */
  --royal-gold: rgb(255, 235, 102); /* Glowing gold */
  --champagne-mist: #fff3c0; /* Bright champagne */
  --saffron-dust: #ffdea0; /* Vibrant saffron */
  --honey-silk: #ffedaa; /* Bright honey */

  /* Diamond Collected/Not Collected */
  --diamond-collected: var(--rose-gleam);
  --diamond-not-collected: var(--primary);

  /* Kyū Colors (vibrant for dark theme) */
  --kyu-8: #fefefe; /* Pearl Mist: Brightest white */
  --kyu-7: #fff5b3; /* Golden Dawn: Glowing yellow */
  --kyu-6: #ffd980; /* Sunset Amber: Vivid amber */
  --kyu-5: #ffaa80; /* Ember Coral: Bright coral */
  --kyu-4: #ff85b0; /* Rose Ember: Vibrant pink */
  --kyu-3: #c08ce6; /* Amethyst Crest: Bright purple */
  --kyu-2: #80a8ff; /* Sapphire Sky: Lively blue */
  --kyu-1: #4a6a9b; /* Obsidian Depth: Rich navy */
}

/* ===== Theme Mapping for Tailwind ===== */
@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-card-background: var(--card-background);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-drawer-popover: var(--drawer-popover); /* Added new color */
  --color-drawer-popover-foreground: var(
    --drawer-popover-foreground
  ); /* Added new color */
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Diamond Luxe Colors */
  --color-rose-gleam: var(--rose-gleam);
  --color-amber-legacy: var(--amber-legacy);
  --color-royal-gold: var(--royal-gold);
  --color-champagne-mist: var(--champagne-mist);
  --color-saffron-dust: var(--saffron-dust);
  --color-honey-silk: var(--honey-silk);

  /* Diamond Collected/Not Collected */
  --color-diamond-collected: var(--diamond-collected);
  --color-diamond-not-collected: var(--diamond-not-collected);

  /* Kyū Colors */
  --color-kyu-8: var(--kyu-8);
  --color-kyu-7: var(--kyu-7);
  --color-kyu-6: var(--kyu-6);
  --color-kyu-5: var(--kyu-5);
  --color-kyu-4: var(--kyu-4);
  --color-kyu-3: var(--kyu-3);
  --color-kyu-2: var(--kyu-2);
  --color-kyu-1: var(--kyu-1);
}

/* ===== Base Layer ===== */
@layer base {
  * {
    @apply border-border outline-ring/50 transition-all duration-200;
  }
  body {
    @apply bg-background text-foreground antialiased;
  }
}

/* ===== View Transition Animation ===== */
@layer utilities {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none;
    mix-blend-mode: normal;
  }
  ::view-transition-old(root) {
    z-index: 0;
  }
  ::view-transition-new(root) {
    z-index: 1;
    animation: reveal 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }
  @keyframes reveal {
    from {
      clip-path: circle(0% at var(--x, 50%) var(--y, 50%));
      opacity: 0.5;
      transform: scale(0.9);
    }
    to {
      clip-path: circle(150% at var(--x, 50%) var(--y, 50%));
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* ===== SEO + Accessibility ===== */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    color-scheme: dark;
  }
}
@media (prefers-color-scheme: light) {
  :root:not(.dark) {
    color-scheme: light;
  }
}
